end = end, fill = puerto))
tmp %>%
count(puerto) %>%
ggplot() +
geom_arc_bar(aes(x0 = 0, y0 = 0, r0 = 0.17, r = 1, amount = n, fill = puerto), alpha = 0.7, stat = "pie")  +
theme_no_axes() + scale_fill_colorblind()
tmp %>%
count(puerto) %>%
ggplot() +
geom_arc_bar(aes(x0 = 0, y0 = 0, r0 = 0.65, r = 1, amount = n, fill = puerto), alpha = 0.7, stat = "pie")  +
theme_no_axes() + scale_fill_colorblind()
tmp %>%
count(puerto) %>%
ggplot() +
geom_arc_bar(aes(x0 = 0, y0 = 0, r0 = 1 - 1, r = 1, start = start, end = end, fill = puerto))
tmp %>%
count(puerto) %>%
ggplot() +
geom_arc_bar(aes(x0 = 0, y0 = 0, r0 = 0.65, r = 1, start = start, end = end, fill = puerto))
tmp %>%
count(puerto) %>%
ggplot() +
geom_arc_bar(aes(x0 = 0, y0 = 0, r0 = 0.65, r = 1, start = 1, end = 2, fill = puerto))
tmp %>%
count(puerto) %>%
ggplot() +
geom_arc_bar(aes(x0 = 0, y0 = 0, r0 = 0.65, r = 1, start = 1, end = 5, fill = puerto))
tmp %>%
count(puerto) %>%
ggplot() +
geom_arc_bar(aes(x0 = 0, y0 = 0, r0 = 0.65, r = 1, amount = n, fill = puerto), alpha = 0.7, stat = "pie")  +
coord_fixed() +
theme_no_axes() +
scale_fill_brewer('', type = 'qual')
tmp %>%
count(puerto) %>%
mutate(focus = ifelse(puerto %in% c("953","938"), 0.15, 0)) %>%
ggplot() +
geom_arc_bar(aes(x0 = 0, y0 = 0, r0 = 0.7, r = 1, amount = n, fill = puerto, explode = focus), alpha = 0.3, stat = "pie") +
coord_fixed() +
theme_no_axes() +
scale_fill_brewer('', type = 'qual')
tmp %>%
count(puerto) %>%
mutate(focus = ifelse(puerto %in% c("953","938"), 0.15, 0)) %>%
ggplot() +
geom_arc_bar(aes(x0 = 0, y0 = 0, r0 = 0.7, r = 1, amount = n, fill = puerto, explode = focus), alpha = 0.7, stat = "pie") +
coord_fixed() +
theme_no_axes() +
scale_fill_brewer('', type = 'qual')
tmp %>%
count(puerto) %>%
ggplot() +
geom_arc_bar(aes(x0 = 0, y0 = 0, r0 = 0.65, r = 1, amount = n, fill = puerto), alpha = 0.7, stat = "pie")  +
coord_fixed() +
scale_fill_brewer('', type = 'qual')
tmp %>%
count(puerto) %>%
mutate(focus = ifelse(puerto %in% c("953","938"), 0.15, 0)) %>%
ggplot() +
geom_arc_bar(aes(x0 = 0, y0 = 0, r0 = 0.7, r = 1, amount = n, fill = puerto, explode = focus),
alpha = 0.7, stat = "pie") +
coord_fixed() +
scale_fill_brewer('', type = 'qual')
tmp %>%
count(puerto) %>%
mutate(focus = ifelse(puerto %in% c("953","938"), 0.15, 0)) %>%
ggplot() +
geom_arc_bar(aes(x0 = 0, y0 = 0, r0 = 0.7, r = 1, amount = n, fill = puerto, explode = focus),
alpha = 0.7, stat = "pie") +
coord_fixed() +
scale_fill_brewer()
tmp %>%
count(puerto) %>%
mutate(focus = ifelse(puerto %in% c("953","938"), 0.15, 0)) %>%
ggplot() +
geom_arc_bar(aes(x0 = 0, y0 = 0, r0 = 0.7, r = 1, amount = n, fill = puerto, explode = focus),
alpha = 0.7, stat = "pie") +
coord_fixed() +
scale_fill_economist()
tmp %>%
count(puerto) %>%
mutate(focus = ifelse(puerto %in% c("953","938"), 0.15, 0)) %>%
ggplot() +
geom_arc_bar(aes(x0 = 0, y0 = 0, r0 = 0.7, r = 1, amount = n, fill = puerto, explode = focus),
alpha = 0.7, stat = "pie") +
coord_fixed() +
scale_fill_wsj()
tmp %>%
count(puerto) %>%
mutate(focus = ifelse(puerto %in% c("953","938"), 0.15, 0)) %>%
ggplot() +
geom_arc_bar(aes(x0 = 0, y0 = 0, r0 = 0.7, r = 1, amount = n, fill = puerto, explode = focus),
alpha = 0.7, stat = "pie") +
coord_fixed() +
scale_fill_pander()
tmp %>%
count(puerto) %>%
ggplot() +
geom_arc_bar(aes(x0 = 0, y0 = 0, r0 = 0.65, r = 1, amount = n, fill = puerto), alpha = 0.7, stat = "pie")  +
coord_fixed() + theme_no_axes() +
scale_fill_brewer('', type = 'qual')
tmp %>%
count(puerto) %>%
ggplot() +
geom_arc_bar(aes(x0 = 0, y0 = 0, r0 = 0.65, r = 1, amount = n, fill = puerto), alpha = 0.7, stat = "pie")  +
coord_fixed() + theme_no_axes() +
scale_fill_pander()
tmp %>%
count(puerto) %>%
mutate(focus = ifelse(puerto %in% c("953","938"), 0.15, 0)) %>%
ggplot() +
geom_arc_bar(aes(x0 = 0, y0 = 0, r0 = 0.7, r = 1, amount = n, fill = puerto, explode = focus),
alpha = 0.7, stat = "pie") +
coord_fixed() + theme_no_axes() +
scale_fill_pander()
knit_with_parameters('~/Documents/proyectos_internos/2020/visualizacion_datos/talk_vac.Rmd')
install.packages("revealjs")
install.packages("revealjs")
?rmdformats
??rmdformats
library(knitr)
library(rmdformats)
## Global options
#options(max.print="75")
opts_chunk$set(echo=FALSE,
cache=TRUE,
prompt=FALSE,
tidy=TRUE,
comment=NA,
message=FALSE,
warning=FALSE)
opts_knit$set(width=75)
library(readxl)
library(tidyverse)
library(plotly)
library(ggthemes)
m3a <- read_excel("data/m3a_edad.xlsx", sheet = "Sheet1")
# Usualmente se busca indicadores por grupo
t1 <-m3a %>%
filter(year >= 2009) %>%
group_by(year,sex) %>%
summarise(number = sum(n)/1e6, n = n())
p1 <- ggplot(t1, aes(year,number)) + geom_bar(aes(fill=sex), stat='identity', position=position_dodge()) +
labs(title= 'Pesqueria Arrastre', x = 'year', y = 'Captura Numero [*1e6]') + guides(fill=FALSE) +
scale_fill_manual(values=c("#999999", "#E69F00")) + theme_pander()
ggplotly(p1)
# Usualmente se busca indicadores por grupo
t1 <-m3a %>%
filter(year >= 2009) %>%
group_by(year,sex) %>%
summarise(number = sum(n)/1e6, n = n())
p1 <- ggplot(t1, aes(year,number)) + geom_bar(aes(fill=sex), stat='identity', position=position_dodge()) +
labs(title= 'Pesqueria Arrastre', x = 'year', y = 'Captura Numero [*1e6]') + guides(fill=FALSE) +
scale_fill_manual(values=c("#999999", "#E69F00")) + theme_pander()
ggplotly(p1) + tooltip = c("x", "y", "colour")
# Usualmente se busca indicadores por grupo
t1 <-m3a %>%
filter(year >= 2009) %>%
group_by(year,sex) %>%
summarise(number = sum(n)/1e6, n = n())
p1 <- ggplot(t1, aes(year,number)) + geom_bar(aes(fill=sex), stat='identity', position=position_dodge()) +
labs(title= 'Pesqueria Arrastre', x = 'year', y = 'Captura Numero [*1e6]') + guides(fill=FALSE) +
scale_fill_manual(values=c("#999999", "#E69F00")) + theme_pander()
ggplotly(p1) + tooltip = c("x", "y", "colour")
# Usualmente se busca indicadores por grupo
t1 <-m3a %>%
filter(year >= 2009) %>%
group_by(year,sex) %>%
summarise(number = sum(n)/1e6, n = n())
p1 <- ggplot(t1, aes(year,number)) + geom_bar(aes(fill=sex), stat='identity', position=position_dodge()) +
labs(title= 'Pesqueria Arrastre', x = 'year', y = 'Captura Numero [*1e6]') + guides(fill=FALSE) +
scale_fill_manual(values=c("#999999", "#E69F00")) + theme_pander()
ggplotly(p1, tooltip = c("x", "y", "colour"))
m3a
# Usualmente se busca indicadores por grupo
t1 <-m3a %>%
filter(year >= 2009) %>%
group_by(year,sex) %>%
summarise(number = sum(n)/1e6, n = n())
p1 <- ggplot(t1, aes(year,number)) + geom_bar(aes(fill=sex, text=per), stat='identity', position=position_dodge()) +
labs(title= 'Pesqueria Arrastre', x = 'year', y = 'Captura Numero [*1e6]') + guides(fill=FALSE) +
scale_fill_manual(values=c("#999999", "#E69F00")) + theme_pander()
ggplotly(p1, tooltip = c("x", "y", "fill", ))
# Usualmente se busca indicadores por grupo
t1 <-m3a %>%
filter(year >= 2009) %>%
group_by(year,sex) %>%
summarise(number = sum(n)/1e6, n = n(), meanw = mean(weight))
p1 <- ggplot(t1, aes(year,number)) + geom_bar(aes(fill=sex, text=meanw), stat='identity', position=position_dodge()) +
labs(title= 'Pesqueria Arrastre', x = 'year', y = 'Captura Numero [*1e6]') + guides(fill=FALSE) +
scale_fill_manual(values=c("#999999", "#E69F00")) + theme_pander()
ggplotly(p1, tooltip = c("x", "y", "fill", ))
t1 <-m3a %>%
filter(year >= 2009) %>%
group_by(year,sex) %>%
summarise(number = sum(n)/1e6, n = n(), meanw = mean(weight))
# Usualmente se busca indicadores por grupo
t1 <-m3a %>%
filter(year >= 2009) %>%
group_by(year,sex) %>%
summarise(number = sum(n)/1e6, n = n(), meanw = mean(weight))
p1 <- ggplot(t1, aes(year,number)) + geom_bar(aes(fill=sex, text=meanw), stat='identity', position=position_dodge()) +
labs(title= 'Pesqueria Arrastre', x = 'year', y = 'Captura Numero [*1e6]') + guides(fill=FALSE) +
scale_fill_manual(values=c("#999999", "#E69F00")) + theme_pander()
ggplotly(p1, tooltip = c("x", "y", "fill", "text"))
# Usualmente se busca indicadores por grupo
t1 <-m3a %>%
filter(year >= 2009) %>%
group_by(year,sex) %>%
summarise(number = sum(n)/1e6, n = n(), meanw = mean(weight))
p1 <- ggplot(t1, aes(year,number,text=meanw)) +
geom_bar(aes(fill=sex), stat='identity', position=position_dodge()) +
labs(title= 'Pesqueria Arrastre', x = 'year', y = 'Captura Numero [*1e6]') + guides(fill=FALSE) +
scale_fill_manual(values=c("#999999", "#E69F00")) + theme_pander()
ggplotly(p1, tooltip = c("x", "y", "fill", "text"))
# Usualmente se busca indicadores por grupo
t1 <-m3a %>%
filter(year >= 2009) %>%
group_by(year,sex) %>%
summarise(number = sum(n)/1e6, n = n(), meanw = mean(weight))
p1 <- ggplot(t1, aes(year,number,text=meanw)) +
geom_bar(aes(fill=sex), stat='identity', position=position_dodge()) +
labs(title= 'Pesqueria Arrastre', x = 'year', y = 'Captura Numero [*1e6]') + guides(fill=FALSE) +
scale_fill_manual(values=c("#999999", "#E69F00")) + theme_pander()
ggplotly(p1)#, tooltip = c("x", "y", "fill", "text"))
# Usualmente se busca indicadores por grupo
t1 <-m3a %>%
filter(year >= 2009) %>%
group_by(year,sex) %>%
summarise(number = sum(n)/1e6, n = n(), meanw = mean(weight)/1000)
p1 <- ggplot(t1, aes(year,number,colour=meanw)) +
geom_bar(aes(fill=sex), stat='identity', position=position_dodge()) +
labs(title= 'Pesqueria Arrastre', x = 'year', y = 'Captura Numero [*1e6]') + guides(fill=FALSE) +
scale_fill_manual(values=c("#999999", "#E69F00")) + theme_pander()
ggplotly(p1, tooltip = c("x", "y", "fill", "colour"))
# Usualmente se busca indicadores por grupo
t1 <-m3a %>%
filter(year >= 2009) %>%
group_by(year,sex) %>%
summarise(number = sum(n)/1e6, n = n(), meanw = mean(weight)/1000)
p1 <- ggplot(t1, aes(year,number,colour=meanw)) +
geom_bar(aes(fill=sex), stat='identity', position=position_dodge()) +
labs(title= 'Pesqueria Arrastre', x = 'year', y = 'Captura Numero [*1e6]') + guides(colour=FALSE) +
scale_fill_manual(values=c("#999999", "#E69F00")) + theme_pander()
ggplotly(p1, tooltip = c("x", "y", "fill", "colour"))
# Usualmente se busca indicadores por grupo
t1 <-m3a %>%
filter(year >= 2009) %>%
group_by(year,sex) %>%
summarise(number = sum(n)/1e6, n = n(), meanw = mean(weight)/1000)
p1 <- ggplot(t1, aes(year,number,group=meanw)) +
geom_bar(aes(fill=sex), stat='identity', position=position_dodge()) +
labs(title= 'Pesqueria Arrastre', x = 'year', y = 'Captura Numero [*1e6]') + guides(fill=FALSE) +
scale_fill_manual(values=c("#999999", "#E69F00")) + theme_pander()
ggplotly(p1, tooltip = c("x", "y", "fill", "colour"))
# Usualmente se busca indicadores por grupo
t1 <-m3a %>%
filter(year >= 2009) %>%
group_by(year,sex) %>%
summarise(number = sum(n)/1e6, n = n(), meanw = mean(weight)/1000)
p1 <- ggplot(t1, aes(year,number,group=meanw)) +
geom_bar(aes(fill=sex), stat='identity', position=position_dodge()) +
labs(title= 'Pesqueria Arrastre', x = 'year', y = 'Captura Numero [*1e6]') + guides(fill=FALSE) +
scale_fill_manual(values=c("#999999", "#E69F00")) + theme_pander()
ggplotly(p1, tooltip = c("x", "y", "fill", "group"))
# Usualmente se busca indicadores por grupo
t1 <-m3a %>%
filter(year >= 2009) %>%
group_by(year,sex) %>%
summarise(number = sum(n)/1e6, n = n(), meanw = round(mean(weight)/1000,3))
p1 <- ggplot(t1, aes(year,number,group=meanw)) +
geom_bar(aes(fill=sex), stat='identity', position=position_dodge()) +
labs(title= 'Pesqueria Arrastre', x = 'year', y = 'Captura Numero [*1e6]') + guides(fill=FALSE) +
scale_fill_manual(values=c("#999999", "#E69F00")) + theme_pander()
ggplotly(p1, tooltip = c("x", "y", "fill", "group"))
# Usualmente se busca indicadores por grupo
t1 <-m3a %>%
filter(year >= 2009) %>%
group_by(year,sex) %>%
summarise(number = sum(n)/1e6, n = n(), meanw = round(mean(weight)/1000,3))
p1 <- ggplot(t1, aes(year,number,group=meanw)) +
geom_bar(aes(fill=sex), stat='identity', position=position_dodge()) +
labs(title= NULL, x = 'year', y = 'Captura Numero [*1e6]') + guides(fill=FALSE) +
scale_fill_manual(values=c("#999999", "#E69F00")) + theme_pander()
ggplotly(p1, tooltip = c("x", "y", "fill", "group"))
# jitter data
p3 <- ggplot(t2,aes(x=age, y=n, colour=factor(year))) +
geom_jitter(aes(text=sex), width=0.05, alpha=0.5 ) +
geom_line(aes(group=sex), alpha = 0.2) +
theme(axis.text.x = element_text(angle = -30, hjust = 0.1)) +
labs(title = "Captura por edad entre sexos", x = "Edad", y = "N [1e6]") +
guides(colour=FALSE) + theme_gdocs()+ scale_color_pander()
# jitter data
t2 <- m3a %>% filter(year>= 2009) %>% mutate(n = n/1e6)
p2 <- ggplot(t2,aes(x=age, y=n, colour=sex)) +
geom_jitter(aes(text=paste("Year: ", year)), width=0.05, alpha=0.5 ) +
geom_line(aes(group=year), alpha = 0.2) +
theme(axis.text.x = element_text(angle = -30, hjust = 0.1)) +
labs(title = "Captura por edad Anual", x = "Edad", y = "N [1e6]") +
guides(colour=FALSE) + theme_gdocs() + scale_color_wsj()
ggplotly(p2)
# jitter data
p3 <- ggplot(t2,aes(x=age, y=n, colour=factor(year))) +
geom_jitter(aes(text=sex), width=0.05, alpha=0.5 ) +
geom_line(aes(group=sex), alpha = 0.2) +
theme(axis.text.x = element_text(angle = -30, hjust = 0.1)) +
labs(title = "Captura por edad entre sexos", x = "Edad", y = "N [1e6]") +
guides(colour=FALSE) + theme_gdocs()+ scale_color_pander()
ggplotly(p3)
t3 <-t2 %>% mutate(agef = factor(age))
p4 <- ggplot(t3,aes(x=agef, y=n))+
geom_jitter(aes(colour=year, text=sex), alpha=0.5, width=0.25 ) +
geom_boxplot(aes(fill=sex), alpha=0.8, outlier.shape = NA) +
theme(axis.text.x = element_text(angle = -30, hjust = 0.1)) +
labs(title = "Captura edad por SEXO", x = "Edad", y = "N [1e6]") +
guides(fill=FALSE, colour=FALSE) + theme_gdocs() +
scale_fill_manual(values=c("#999999", "#E69F00")) +
scale_color_gradientn(colours = terrain.colors(10))
ggplotly(p4, tooltip = c("x", "y", "fill")) %>%
highlight("plotly_selected")
t3 <-t2 %>% mutate(agef = factor(age))
p4 <- ggplot(t3,aes(x=agef, y=n))+
geom_jitter(aes(colour=year, text=sex), alpha=0.5, width=0.25 ) +
geom_boxplot(aes(fill=sex), alpha=0.8, outlier.shape = NA) +
theme(axis.text.x = element_text(angle = -30, hjust = 0.1)) +
labs(title = "Boxplot por sexo", x = "Edad", y = "N [1e6]") +
guides(fill=FALSE, colour=FALSE) + theme_gdocs() +
scale_fill_manual(values=c("#999999", "#E69F00")) +
scale_color_gradientn(colours = terrain.colors(10))
ggplotly(p4, tooltip = c("x", "y", "fill", "text", "colour")) %>%
highlight("plotly_selected")
t3 <-t2 %>% mutate(agef = factor(age))
p4 <- ggplot(t3,aes(x=agef, y=n))+
geom_jitter(aes(colour=year, group=sex), alpha=0.5, width=0.25 ) +
geom_boxplot(aes(fill=sex), alpha=0.8, outlier.shape = NA) +
theme(axis.text.x = element_text(angle = -30, hjust = 0.1)) +
labs(title = "Boxplot por sexo", x = "Edad", y = "N [1e6]") +
guides(fill=FALSE, colour=FALSE) + theme_gdocs() +
scale_fill_manual(values=c("#999999", "#E69F00")) +
scale_color_gradientn(colours = terrain.colors(10))
ggplotly(p4, tooltip = c("x", "y", "fill", "group", "colour")) %>%
highlight("plotly_selected")
t3 <-t2 %>% mutate(agef = factor(age), law = ifelse(year <= 2013,"no","si") )
t3
t3 <-t2 %>% mutate(agef = factor(age), law = ifelse(year <= 2013,"no","si") ) %>%
p4a <- ggplot(t3,aes(x=agef, y=n)) +
geom_jitter(aes(colour=year, group=sex), alpha=0.5, width=0.25 ) +
geom_boxplot(aes(fill=sex), alpha=0.8, outlier.shape = NA) +
facet_grid(. ~ law) +
theme(axis.text.x = element_text(angle = -30, hjust = 0.1)) +
labs(title = "Boxplot por sexo", x = "Edad", y = "N [1e6]") +
guides(fill=FALSE, colour=FALSE) + theme_gdocs() +
scale_fill_manual(values=c("#999999", "#E69F00")) +
scale_color_gradientn(colours = terrain.colors(10))
t2
t3 <-t2 %>% mutate(agef = factor(age), law = ifelse(year <= 2013,"no","si") ) %>%
p4a <- ggplot(t3,aes(x=agef, y=n)) +
geom_jitter(aes(colour=year, group=sex), alpha=0.5, width=0.25 ) +
geom_boxplot(aes(fill=sex), alpha=0.8, outlier.shape = NA) +
facet_grid(. ~ law) +
theme(axis.text.x = element_text(angle = -30, hjust = 0.1)) +
labs(title = "Boxplot por sexo", x = "Edad", y = "N [1e6]") +
guides(fill=FALSE, colour=FALSE) + theme_gdocs() +
scale_fill_manual(values=c("#999999", "#E69F00")) +
scale_color_gradientn(colours = terrain.colors(10))
t3 <-t2 %>% mutate(agef = factor(age), law = ifelse(year <= 2013,"no","si") )
p4a <- ggplot(t3,aes(x=agef, y=n)) +
geom_jitter(aes(colour=year, group=sex), alpha=0.5, width=0.25 ) +
geom_boxplot(aes(fill=sex), alpha=0.8, outlier.shape = NA) +
facet_grid(. ~ law) +
theme(axis.text.x = element_text(angle = -30, hjust = 0.1)) +
labs(title = "Boxplot por sexo", x = "Edad", y = "N [1e6]") +
guides(fill=FALSE, colour=FALSE) + theme_gdocs() +
scale_fill_manual(values=c("#999999", "#E69F00")) +
scale_color_gradientn(colours = terrain.colors(10))
ggplotly(p4a, tooltip = c("x", "y", "fill", "group", "colour")) %>%
highlight("plotly_selected")
t3 <-t2 %>% mutate(agef = factor(age), law = ifelse(year <= 2013,"no","si") )
p4a <- ggplot(t3,aes(x=agef, y=n)) +
geom_jitter(aes(colour=year, group=law), alpha=0.5, width=0.25 ) +
geom_boxplot(aes(fill=law), alpha=0.8, outlier.shape = NA) +
facet_grid(. ~ sex) +
theme(axis.text.x = element_text(angle = -30, hjust = 0.1)) +
labs(title = "Boxplot por sexo", x = "Edad", y = "N [1e6]") +
guides(fill=FALSE, colour=FALSE) + theme_gdocs() +
scale_fill_manual(values=c("#999999", "#E69F00")) +
scale_color_gradientn(colours = terrain.colors(10))
ggplotly(p4a, tooltip = c("x", "y", "fill", "group", "colour")) %>%
highlight("plotly_selected")
t3 <-t2 %>% mutate(agef = factor(age))
p4 <- ggplot(t3,aes(x=agef, y=n))+
geom_jitter(aes(colour=year, group=sex), alpha=0.5, width=0.25 ) +
geom_boxplot(aes(fill=sex), alpha=0.8, outlier.shape = NA) +
theme(axis.text.x = element_text(angle = -30, hjust = 0.1)) +
labs(title = "Boxplot por sexo", x = "Edad", y = "N [1e6]") +
guides(fill=FALSE, colour=FALSE) + theme_gdocs() +
scale_fill_manual(values=c("#999999", "#E69F00")) +
scale_color_gradientn(colours = terrain.colors(10))
ggplotly(p4, tooltip = c("x", "y", "fill", "group", "colour")) %>%
highlight("plotly_selected")
unlink('visual_talk_cache', recursive = TRUE)
library(ggforce)
library(nycflights13)
library(readr)
erizo <- read_csv("data/erizo_toy.csv")
erizo <- read_csv("data/erizo_toy.csv")
erizo <- read_csv("data/geo_erizo_1996_2019.csv")
erizo <- erizo %>% filter(year>=2015)
erizo <- erizo %>% filter(ANO_REG>=2015)
write_csv('erizoToy.csv',col_names = TRUE)
write_csv('erizoToy.csv',erizo,col_names = TRUE)
?write_csv
write_csv(erizo, 'erizoToy.csv', col_names = TRUE)
erizo <- read_csv("data/erizoToy.csv")
erizo <- read_csv("data/erizoToy.csv")
glimpse(erizo)
erizo <- read_csv("data/erizoToy.csv")
library(readr)
erizoToy <- read_csv("data/erizoToy.csv")
View(erizoToy)
erizo <- read_csv("data/erizoToy.csv")
glimpse(erizo)
tmp <- erizo %>% filter(ANO_REG >= 2016) %>%
select(poly = POLIGONO, lon = LONGITUD, lat = LATITUD)
glimpse(tmp)
p <- tmp %>%
filter(lon != 0, lat != 0, poly >= 1) %>% mutate(polyf = factor(poly)) %>%
ggplot(aes(lon, lat, color = polyf)) +
geom_jitter(show.legend = FALSE, width = 0.01, height = 0.02, size = 0.2) +
theme_pander()
p
library(ggforce)
library(nycflights13)
library(readr)
erizo <- read_csv("data/erizoToy.csv")
tmp <- erizo %>% filter(ANO_REG >= 2016) %>%
select(poly = POLIGONO, lon = LONGITUD, lat = LATITUD)
p <- tmp %>%
filter(lon != 0, lat != 0, poly >= 1) %>% mutate(polyf = factor(poly)) %>%
ggplot(aes(lon, lat, color = polyf)) +
geom_jitter(show.legend = FALSE, width = 0.01, height = 0.02, size = 0.2) +
theme_pander()
p
p <- tmp %>%
filter(lon != 0, lat != 0, poly >= 1) %>% mutate(polyf = factor(poly)) %>%
ggplot(aes(lon, lat, color = polyf)) +
geom_jitter(show.legend = FALSE, width = 0.01, height = 0.02, size = 0.2) +
theme_pander()
ggplotly(p)
p <- tmp %>%
filter(lon != 0, lat != 0, poly >= 1) %>% mutate(polyf = factor(poly)) %>%
ggplot(aes(lon, lat, color = polyf)) +
geom_jitter(show.legend = FALSE, width = 0.01, height = 0.02, size = 0.5) +
theme_pander()
ggplotly(p)
unlink('visual_talk_cache', recursive = TRUE)
library(readxl)
library(tidyverse)
library(plotly)
library(ggthemes)
library(ggforce)
library(nycflights13)
library(readr)
erizo <- read_csv("data/erizoToy.csv")
glimpse(erizo)
p <- tmp %>%
filter(lon != 0, lat != 0, poly >= 1) %>% mutate(polyf = factor(poly)) %>%
ggplot(aes(lon, lat, color = polyf)) +
geom_jitter(show.legend = FALSE, width = 0.01, height = 0.02, size = 0.2) +
theme_pander()
p
tmp <- erizo %>% filter(ANO_REG >= 2016) %>%
select(poly = POLIGONO, lon = LONGITUD, lat = LATITUD)
glimpse(tmp)
p <- tmp %>%
filter(lon != 0, lat != 0, poly >= 1) %>% mutate(polyf = factor(poly)) %>%
ggplot(aes(lon, lat, color = polyf)) +
geom_jitter(show.legend = FALSE, width = 0.01, height = 0.02, size = 0.2) +
theme_pander()
p
p +
geom_mark_rect()
library(knitr)
library(rmdformats)
## Global options
#options(max.print="75")
opts_chunk$set(echo=FALSE,
cache=TRUE,
prompt=FALSE,
tidy=TRUE,
comment=NA,
message=FALSE,
warning=FALSE)
opts_knit$set(width=75)
library(readxl)
library(tidyverse)
library(plotly)
library(ggthemes)
m3a <- read_excel("data/m3a_edad.xlsx", sheet = "Sheet1")
p +
geom_mark_rect()
p +
geom_mark_hull(aes(label = polyf, fill = polyf), show.legend = FALSE) +
theme_void()
p +
geom_mark_hull(aes(label = polyf, fill = polyf), show.legend = FALSE, expand = unit(2, "mm")) +
theme_void()
p +
geom_mark_hull(aes(label = polyf, fill = polyf), show.legend = FALSE, expand = unit(2, "mm")) +
theme_pander()
unlink('visual_talk_cache', recursive = TRUE)
